<!DOCTYPE html><html class=no-js lang=zh> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content=张杨的个人网站 name=description><meta content=yangzhang name=author><link href=https://yangzhang.site/Python/SeniorSyntax/functional_programming/ rel=canonical><link href=../../../assets/images/favicon.png rel=icon><meta content="mkdocs-1.5.3, mkdocs-material-8.5.10" name=generator><title>函数式编程 - yangzhang's Site</title><link href=../../../assets/stylesheets/main.975780f9.min.css rel=stylesheet><link href=../../../assets/stylesheets/palette.2505c338.min.css rel=stylesheet><!-- 数学公式格式支持，用html嵌入的方式支持数学公式自动换行，mathjax似乎要支持但是现在还没实现。
Automatic line breaking has not yet been implemented in MathJax version 3, 
but is high on our list for inclusion in a future release. --><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../../assets/stylesheets/extra.css rel=stylesheet><link href=../../../assets/stylesheets/termynal.css rel=stylesheet><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-8R9VRSN3S0"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-8R9VRSN3S0",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-8R9VRSN3S0",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script><link href=../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src=../../../assets/javascripts/glightbox.min.js></script></head> <body data-md-color-accent=orange data-md-color-primary=deep-purple data-md-color-scheme=sun dir=ltr> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#_1> 跳转至 </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <!-- Add announcement here, including arbitrary HTML --> Latest Update(๑•ᴗ•๑)♡ : <a href=/Python/SeniorSyntax/OOP/ >面向对象编程</a> </div> </aside> </div> <header class=md-header data-md-component=header> <nav aria-label=页眉 class="md-header__inner md-grid"> <a aria-label="yangzhang's Site" class="md-header__button md-logo" data-md-component=logo href=../../.. title="yangzhang's Site"> <img alt=logo src=../../../assets/images/summation.png> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> yangzhang's Site </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 函数式编程 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-hidden=true class=md-option data-md-color-accent=orange data-md-color-media data-md-color-primary=deep-purple data-md-color-scheme=sun id=__palette_1 name=__palette type=radio> <input aria-hidden=true class=md-option data-md-color-accent=orange data-md-color-media data-md-color-primary=grey data-md-color-scheme=mon id=__palette_2 name=__palette type=radio> <input aria-hidden=true class=md-option data-md-color-accent=orange data-md-color-media data-md-color-primary=blue-grey data-md-color-scheme=tues id=__palette_3 name=__palette type=radio> <input aria-hidden=true class=md-option data-md-color-accent=orange data-md-color-media data-md-color-primary=teal data-md-color-scheme=wed id=__palette_4 name=__palette type=radio> <input aria-hidden=true class=md-option data-md-color-accent=orange data-md-color-media data-md-color-primary=indigo data-md-color-scheme=thur id=__palette_5 name=__palette type=radio> <input aria-hidden=true class=md-option data-md-color-accent=orange data-md-color-media data-md-color-primary=pink data-md-color-scheme=fri id=__palette_6 name=__palette type=radio> <input aria-hidden=true class=md-option data-md-color-accent=orange data-md-color-media data-md-color-primary=deep-purple data-md-color-scheme=sat id=__palette_7 name=__palette type=radio> </form> <div class=md-header__option> <div class=md-select> <button aria-label=选择当前语言 class="md-header__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"></path></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a class=md-select__link href=./ hreflang=zh> 简体中文 </a> </li> <li class=md-select__item> <a class=md-select__link href=../../../en/Python/SeniorSyntax/functional_programming/ hreflang=en> English </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=搜索 autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=搜索 required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </label> <nav aria-label=查找 class=md-search__options> <button aria-label=清空当前内容 class="md-search__icon md-icon" tabindex=-1 title=清空当前内容 type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a class=md-source data-md-component=source href=https://github.com/AIboy996/AIboy996.github.io title=前往仓库> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </div> <div class=md-source__repository> AIboy996.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav aria-label=标签 class=md-tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../About/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../../../Note/ class=md-tabs__link> Note </a> </li> <li class=md-tabs__item> <a href=../../../Blog/ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> Python </a> </li> <li class=md-tabs__item> <a href=../../../Project/ class=md-tabs__link> Project </a> </li> <li class=md-tabs__item> <a href=../../../Statistics/ class=md-tabs__link> Statistics </a> </li> <li class=md-tabs__item> <a href=../../../SomeMath/ class=md-tabs__link> SomeMath </a> </li> <li class=md-tabs__item> <a href=../../../Tags/ class=md-tabs__link> Tags </a> </li> <li class=md-tabs__item> <a href=../../../Playground/ class=md-tabs__link> Playground </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=导航栏 class="md-nav md-nav--primary md-nav--lifted" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label="yangzhang's Site" class="md-nav__button md-logo" data-md-component=logo href=../../.. title="yangzhang's Site"> <img alt=logo src=../../../assets/images/summation.png> </a> yangzhang's Site </label> <div class=md-nav__source> <a class=md-source data-md-component=source href=https://github.com/AIboy996/AIboy996.github.io title=前往仓库> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </div> <div class=md-source__repository> AIboy996.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 id=__nav_1 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../About/ >About</a> <label for=__nav_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=About class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../About/about/ class=md-nav__link> 关于本站和我的一切 </a> </li> <li class=md-nav__item> <a href=../../../About/devices/ class=md-nav__link> 我的电子设备们 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../../../About/resume.html> 正式的简历 </a> </li> <li class=md-nav__item> <a href=../../../About/hobby/ class=md-nav__link> 兴趣点 </a> </li> <li class=md-nav__item> <a href=../../../About/links/ class=md-nav__link> 链接 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 id=__nav_2 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../Note/ >Note</a> <label for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Note class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Note </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Note/software/ class=md-nav__link> 装机必备 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 id=__nav_2_3 type=checkbox> <label class=md-nav__link for=__nav_2_3> Docker <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Docker class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Note/Docker/docker_intro/ class=md-nav__link> Docker简介 </a> </li> <li class=md-nav__item> <a href=../../../Note/Docker/docker_basic/ class=md-nav__link> Docker基础 </a> </li> <li class=md-nav__item> <a href=../../../Note/Docker/docker_senior/ class=md-nav__link> Docker进阶 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 id=__nav_2_4 type=checkbox> <label class=md-nav__link for=__nav_2_4> Git <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Git class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Git </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Note/Git/git/ class=md-nav__link> 单机git </a> </li> <li class=md-nav__item> <a href=../../../Note/Git/git_server/ class=md-nav__link> 协作git </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5 id=__nav_2_5 type=checkbox> <label class=md-nav__link for=__nav_2_5> 墙和梯子 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=墙和梯子 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> 墙和梯子 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Note/GFW/intro/ class=md-nav__link> 关于墙和梯子的基础知识 </a> </li> <li class=md-nav__item> <a href=../../../Note/GFW/client/ class=md-nav__link> 梯子客户端评测 </a> </li> <li class=md-nav__item> <a href=../../../Note/GFW/server/ class=md-nav__link> 搭建一个VPN服务器 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_6 id=__nav_2_6 type=checkbox> <label class=md-nav__link for=__nav_2_6> mkdocs <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=mkdocs class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> mkdocs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Note/mkdocs/theory/ class=md-nav__link> 理论 </a> </li> <li class=md-nav__item> <a href=../../../Note/mkdocs/practice/ class=md-nav__link> 实践 </a> </li> <li class=md-nav__item> <a href=../../../Note/mkdocs/best_practices/ class=md-nav__link> 最佳实践 </a> </li> <li class=md-nav__item> <a href=../../../Note/mkdocs/about_math/ class=md-nav__link> 写数学公式的坑 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_7 id=__nav_2_7 type=checkbox> <label class=md-nav__link for=__nav_2_7> LaTeX <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=LaTeX class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> LaTeX </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Note/latex/basic_latex/ class=md-nav__link> LaTeX基础 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_8 id=__nav_2_8 type=checkbox> <label class=md-nav__link for=__nav_2_8> ManimGL <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=ManimGL class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_8> <span class="md-nav__icon md-icon"></span> ManimGL </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Note/manim/hello/ class=md-nav__link> 初见manim </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_9 id=__nav_2_9 type=checkbox> <label class=md-nav__link for=__nav_2_9> Jupyter <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=Jupyter class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_9> <span class="md-nav__icon md-icon"></span> Jupyter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Note/jupyter/jupyter1/ class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../Note/jupyter/jupyter2/ class=md-nav__link> 基础使用 </a> </li> <li class=md-nav__item> <a href=../../../Note/jupyter/jupyter3/ class=md-nav__link> 远程服务 </a> </li> <li class=md-nav__item> <a href=../../../Note/jupyter/jupyter4/ class=md-nav__link> 进阶使用 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_10 id=__nav_2_10 type=checkbox> <label class=md-nav__link for=__nav_2_10> SAS <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=SAS class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_10> <span class="md-nav__icon md-icon"></span> SAS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Note/SAS/SAS_basic/ class=md-nav__link> SAS的基本操作 </a> </li> <li class=md-nav__item> <a href=../../../Note/SAS/SAS_application/ class=md-nav__link> SAS的统计应用 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_11 id=__nav_2_11 type=checkbox> <label class=md-nav__link for=__nav_2_11> Linux &amp; Shell <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Linux & Shell" class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_11> <span class="md-nav__icon md-icon"></span> Linux &amp; Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Note/Shell/linux/ class=md-nav__link> All About Linux </a> </li> <li class=md-nav__item> <a href=../../../Note/Shell/man/ class=md-nav__link> Manual for Shell </a> </li> <li class=md-nav__item> <a href=../../../Note/Shell/ssh/ class=md-nav__link> SSH </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 id=__nav_3 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../Blog/ >Blog</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Blog class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2 id=__nav_3_2 type=checkbox> <label class=md-nav__link for=__nav_3_2> 2019 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=2019 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> 2019 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Blog/2019/2019_summary/ class=md-nav__link> 2019年度总结 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3 id=__nav_3_3 type=checkbox> <label class=md-nav__link for=__nav_3_3> 2020 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=2020 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> 2020 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Blog/2020/2020_summary/ class=md-nav__link> 2020年度总结 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_4 id=__nav_3_4 type=checkbox> <label class=md-nav__link for=__nav_3_4> 2022 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=2022 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> 2022 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Blog/2022/2022_summary/ class=md-nav__link> 2022年度总结 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_5 id=__nav_3_5 type=checkbox> <label class=md-nav__link for=__nav_3_5> 2023 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=2023 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> 2023 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Blog/2023/intern/ class=md-nav__link> 卖身记（一） </a> </li> <li class=md-nav__item> <a href=../../../Blog/2023/curriculum/ class=md-nav__link> 毕业.课程 </a> </li> <li class=md-nav__item> <a href=../../../Blog/2023/GEE/ class=md-nav__link> 考研始末 </a> </li> <li class=md-nav__item> <a href=../../../Blog/2023/music/ class=md-nav__link> 音乐和记忆 </a> </li> <li class=md-nav__item> <a href=../../../Blog/2023/intern2/ class=md-nav__link> 卖身记（二） </a> </li> <li class=md-nav__item> <a href=../../../Blog/2023/thesis/ class=md-nav__link> 毕业.论文 </a> </li> <li class=md-nav__item> <a href=../../../Blog/2023/travel_to_japan/ class=md-nav__link> 毕业.旅行 </a> </li> <li class=md-nav__item> <a href=../../../Blog/2023/recall_high_school_math/ class=md-nav__link> 中等数学复健 </a> </li> <li class=md-nav__item> <a href=../../../Blog/2023/graduation_pics/ class=md-nav__link> 毕业.留影 </a> </li> <li class=md-nav__item> <a href=../../../Blog/2023/name/ class=md-nav__link> 称呼zy的20种方法 </a> </li> <li class=md-nav__item> <a href=../../../Blog/2023/bloom/ class=md-nav__link> 铁树开花 </a> </li> <li class=md-nav__item> <a href=../../../Blog/2023/2023_summary/ class=md-nav__link> 2023年度回顾 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_6 id=__nav_3_6 type=checkbox> <label class=md-nav__link for=__nav_3_6> 2024 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=2024 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> 2024 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Blog/2024/otaku/ class=md-nav__link> おたく </a> </li> <li class=md-nav__item> <a href=../../../Blog/2024/winter/ class=md-nav__link> 冬が一番嫌い </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 id=__nav_4 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../ >Python</a> <label for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Python class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pre_python/ class=md-nav__link> 前置知识 </a> </li> <li class=md-nav__item> <a href=../../command_line/ class=md-nav__link> 安装以及交互式运行 </a> </li> <li class=md-nav__item> <a href=../../script/ class=md-nav__link> 脚本式运行和脚本书写规范 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5 id=__nav_4_5 type=checkbox> <label class=md-nav__link for=__nav_4_5> 基础语法 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=基础语法 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> 基础语法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../BasicSyntax/builtin_class/ class=md-nav__link> 内置类 </a> </li> <li class=md-nav__item> <a href=../../BasicSyntax/builtin_keyword/ class=md-nav__link> 内置关键字 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_6 id=__nav_4_6 type=checkbox> <label class=md-nav__link for=__nav_4_6> 高级语法 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=高级语法 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> 高级语法 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> 函数式编程 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 函数式编程 </a> <nav aria-label=目录 class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#_2> 深入了解函数 </a> <nav aria-label=深入了解函数 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_3> 形参和实参 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_4> 形参打包 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_5> 实参解包 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_6> 函数的返回值 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_7> 函数的注释 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_8> 迭代器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_9> 生成器 </a> <nav aria-label=生成器 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_10> 简单生成器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_11> 生成器推导式 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_12> 协程 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_13> 装饰器 </a> <nav aria-label=装饰器 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_14> 简单装饰器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_15> 带参数的装饰器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_16> 装饰器的用途 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#python> python内置的装饰器 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../OOP/ class=md-nav__link> 面向对象编程 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_7 id=__nav_4_7 type=checkbox> <label class=md-nav__link for=__nav_4_7> 标准库 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=标准库 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> 标准库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../StandardLibrary/os/ class=md-nav__link> os </a> </li> <li class=md-nav__item> <a href=../../StandardLibrary/re/ class=md-nav__link> re </a> </li> <li class=md-nav__item> <a href=../../StandardLibrary/time/ class=md-nav__link> time </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_8 id=__nav_4_8 type=checkbox> <label class=md-nav__link for=__nav_4_8> 第三方库 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=第三方库 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_8> <span class="md-nav__icon md-icon"></span> 第三方库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ThirdPartyLibrary/package_management/ class=md-nav__link> 包管理 </a> </li> <li class=md-nav__item> <a href=../../ThirdPartyLibrary/DIY/ class=md-nav__link> 自己写一个包 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_8_3 id=__nav_4_8_3 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../ThirdPartyLibrary/numpy/ >numpy</a> <label for=__nav_4_8_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=numpy class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_8_3> <span class="md-nav__icon md-icon"></span> numpy </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ThirdPartyLibrary/numpy/ndarray/ class=md-nav__link> array </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_8_4 id=__nav_4_8_4 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../ThirdPartyLibrary/matplotlib/ >matplotlib</a> <label for=__nav_4_8_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=matplotlib class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_8_4> <span class="md-nav__icon md-icon"></span> matplotlib </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ThirdPartyLibrary/matplotlib/plt/ class=md-nav__link> plt everything </a> </li> <li class=md-nav__item> <a href=../../ThirdPartyLibrary/matplotlib/subplots/ class=md-nav__link> Axes and Figure </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_8_5 id=__nav_4_8_5 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../ThirdPartyLibrary/pandas/ >pandas</a> <label for=__nav_4_8_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=pandas class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_8_5> <span class="md-nav__icon md-icon"></span> pandas </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ThirdPartyLibrary/pandas/dataframe/ class=md-nav__link> pandas </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_8_6 id=__nav_4_8_6 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../ThirdPartyLibrary/pytorch/ >pytorch</a> <label for=__nav_4_8_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=pytorch class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_8_6> <span class="md-nav__icon md-icon"></span> pytorch </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ThirdPartyLibrary/pytorch/tensor/ class=md-nav__link> 张量基础 </a> </li> <li class=md-nav__item> <a href=../../ThirdPartyLibrary/pytorch/model/ class=md-nav__link> 训练一个模型 </a> </li> <li class=md-nav__item> <a href=../../ThirdPartyLibrary/pytorch/multi_gpu/ class=md-nav__link> 多卡训练 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_9 id=__nav_4_9 type=checkbox> <label class=md-nav__link for=__nav_4_9> 应用案例（MISC） <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=应用案例（MISC） class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_9> <span class="md-nav__icon md-icon"></span> 应用案例（MISC） </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Example/email/ class=md-nav__link> 发邮件 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_10 id=__nav_4_10 type=checkbox> <label class=md-nav__link for=__nav_4_10> 应用案例（爬虫） <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=应用案例（爬虫） class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_10> <span class="md-nav__icon md-icon"></span> 应用案例（爬虫） </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Example/Spider/national_FDA/ class=md-nav__link> 获取国家药监局官网上的GSP认证信息 </a> </li> <li class=md-nav__item> <a href=../../Example/Spider/local_FDA/ class=md-nav__link> 获取地方药监局官网上的GSP认证信息 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_11 id=__nav_4_11 type=checkbox> <label class=md-nav__link for=__nav_4_11> 应用案例（微软三件套） <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=应用案例（微软三件套） class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_11> <span class="md-nav__icon md-icon"></span> 应用案例（微软三件套） </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Example/Excel/csv2xlsx/ class=md-nav__link> 超大csv文件转xlsx文件 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 id=__nav_5 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../Project/ >Project</a> <label for=__nav_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Project class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Project </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Project/plt-gallery/ class=md-nav__link> plt-gallery </a> </li> <li class=md-nav__item> <a href=../../../Project/Course-Selection-System/ class=md-nav__link> Course-Selection-System </a> </li> <li class=md-nav__item> <a href=../../../Project/qrq/ class=md-nav__link> qrq </a> </li> <li class=md-nav__item> <a href=../../../Project/pymd/ class=md-nav__link> pymd </a> </li> <li class=md-nav__item> <a href=../../../Project/AirPrint-with-Python/ class=md-nav__link> AirPrint-with-Python </a> </li> <li class=md-nav__item> <a href=../../../Project/high_school_math/ class=md-nav__link> 高中数学讲义（自用） </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 id=__nav_6 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../Statistics/ >Statistics</a> <label for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=Statistics class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Statistics </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 id=__nav_6_2 type=checkbox> <label class=md-nav__link for=__nav_6_2> 基础课 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=基础课 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> 基础课 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Statistics/basic/Calculus/ class=md-nav__link> 数学分析 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/basic/Linear_Algebra/ class=md-nav__link> 线性代数 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/basic/Operations_Research/ class=md-nav__link> 运筹学 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/basic/Probability_Theory_and_Mathematical_Statistics/ class=md-nav__link> 概率论与数理统计 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/basic/Statistical_Software/ class=md-nav__link> 统计软件 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_3 id=__nav_6_3 type=checkbox> <label class=md-nav__link for=__nav_6_3> 专业课 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=专业课 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> 专业课 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Statistics/specialized/Statistical_Inference/ class=md-nav__link> 统计推断 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/specialized/Regression_Analysis/ class=md-nav__link> 回归分析 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/specialized/Time_Series_Analysis/ class=md-nav__link> 时间序列分析 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/specialized/Sampling/ class=md-nav__link> 抽样调查 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/specialized/Multivariate_Analysis/ class=md-nav__link> 多元分析 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/specialized/Stochastic_Process/ class=md-nav__link> 随机过程 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/specialized/Categorical_Data_Analysis/ class=md-nav__link> 属性数据分析 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/specialized/Nonparametric_Statistics/ class=md-nav__link> 非参数统计 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_4 id=__nav_6_4 type=checkbox> <label class=md-nav__link for=__nav_6_4> 选修课 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=选修课 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> 选修课 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Statistics/elective/Computational_Statistics/ class=md-nav__link> 统计计算 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/elective/Data_Mining/ class=md-nav__link> 数据挖掘 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/elective/Algorithm/ class=md-nav__link> 算法导论 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/elective/DSPython/ class=md-nav__link> 数据科学编程基础 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/elective/Database/ class=md-nav__link> 数据库 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/elective/Pattern_Recognition_and_Machine_Learning/ class=md-nav__link> 模式识别和机器学习 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/elective/SeniorPython/ class=md-nav__link> 人工智能编程框架 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/elective/OpenMMLab/ class=md-nav__link> OpenMMLab实践 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_5 id=__nav_6_5 type=checkbox> <label class=md-nav__link for=__nav_6_5> 研究生课 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=研究生课 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> 研究生课 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Statistics/postgrad/Probability_Theory/ class=md-nav__link> 高等概率论 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/postgrad/Convex_Optimization/ class=md-nav__link> 凸优化 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/postgrad/Numerical_Analysis/ class=md-nav__link> 数值计算 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/postgrad/Time_Series/ class=md-nav__link> 时间序列 </a> </li> <li class=md-nav__item> <a href=../../../Statistics/postgrad/journal_club/ class=md-nav__link> Journal Club </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 id=__nav_7 type=checkbox> <div class="md-nav__link md-nav__link--index"> <a href=../../../SomeMath/ >SomeMath</a> <label for=__nav_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-label=SomeMath class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> SomeMath </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_2 id=__nav_7_2 type=checkbox> <label class=md-nav__link for=__nav_7_2> 实分析 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=实分析 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> 实分析 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../SomeMath/real/rational_numbers_countable/ class=md-nav__link> 有理数集是可数的 </a> </li> <li class=md-nav__item> <a href=../../../SomeMath/real/taylor_expand/taylor_expand/ class=md-nav__link> 泰勒展开 </a> </li> <li class=md-nav__item> <a href=../../../SomeMath/real/hyperbolic_function/ class=md-nav__link> 双曲函数 </a> </li> <li class=md-nav__item> <a href=../../../SomeMath/real/a_limit/ class=md-nav__link> 一道极限题 </a> </li> <li class=md-nav__item> <a href=../../../SomeMath/real/derivatives/ class=md-nav__link> 导数 </a> </li> <li class=md-nav__item> <a href=../../../SomeMath/real/gamma_func/ class=md-nav__link> Gamma函数 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_3 id=__nav_7_3 type=checkbox> <label class=md-nav__link for=__nav_7_3> 复分析 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=复分析 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> 复分析 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../SomeMath/complex/why_complex/ class=md-nav__link> 我们为什么需要复数 </a> </li> <li class=md-nav__item> <a href=../../../SomeMath/complex/constructible_number/ class=md-nav__link> 规矩数 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_4 id=__nav_7_4 type=checkbox> <label class=md-nav__link for=__nav_7_4> 代数 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=代数 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> 代数 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../SomeMath/algebra/linear_differential_equation/ class=md-nav__link> 线性齐次差分方程 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_5 id=__nav_7_5 type=checkbox> <label class=md-nav__link for=__nav_7_5> 概率论 <span class="md-nav__icon md-icon"></span> </label> <nav aria-label=概率论 class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_7_5> <span class="md-nav__icon md-icon"></span> 概率论 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../SomeMath/prob/Montmort1/ class=md-nav__link> Montmort问题（一） </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Tags/ class=md-nav__link> Tags </a> </li> <li class=md-nav__item> <a href=../../../Playground/ class=md-nav__link> Playground </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=目录 class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#_2> 深入了解函数 </a> <nav aria-label=深入了解函数 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_3> 形参和实参 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_4> 形参打包 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_5> 实参解包 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_6> 函数的返回值 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_7> 函数的注释 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_8> 迭代器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_9> 生成器 </a> <nav aria-label=生成器 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_10> 简单生成器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_11> 生成器推导式 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_12> 协程 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_13> 装饰器 </a> <nav aria-label=装饰器 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_14> 简单装饰器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_15> 带参数的装饰器 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_16> 装饰器的用途 </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#python> python内置的装饰器 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <!-- Edit and view button --> <!-- 是否隐藏编辑按钮 --> <!-- <a href="https://github.dev/AIboy996/AIboy996.github.io/blob/main/docs/Python/SeniorSyntax/functional_programming.md" title="Edit this page" class="md-content__button md-icon" >
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
</a> --> <a class="md-content__button md-icon" href=https://github.com/AIboy996/AIboy996.github.io/tree/main/docs/Python/SeniorSyntax/functional_programming.md title="View source of this page"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"></path></svg> </a> <!-- Tags --> <!-- Determine whether to show tags --> <nav class=md-tags> <a class=md-tag href=/Tags#python进阶>python进阶</a> </nav> <!--
  Hack: check whether the content contains a h1 headline. If it
  doesn't, the page title (or respectively site name) is used
  as the main headline.
--> <!-- Markdown content --> <div><h1 id=_1>函数式编程<a class=headerlink href=#_1 title="Permanent link">¶</a></h1> <p>我们首先来介绍一下什么叫<code>函数式</code>，它区别于哪些方式？</p> <div class="admonition quote"> <p class=admonition-title>维基百科——编程范型</p> <p>编程范型、编程范式或程式設計法（英語：Programming paradigm），是指软件工程中的一类典型的编程风格。常见的编程范型有：函数式编程、指令式編程、过程式编程、面向对象编程等等。</p> <p>编程范型提供并决定了程序员对程序执行的看法。例如，在面向对象编程中，程序员认为程序是一系列相互作用的对象，由于方法论的不同，面向对象编程又分为基于类编程和基于原型编程，而在函数式编程中一个程序会被看作是一个无状态的函数计算的序列。</p> </div> <p>我不是软工专业的，这方面了解不多。我还找来了python官方文档对这方面内容的解读：</p> <div class="admonition quote"> <p class=admonition-title>python 3.11 Documentation</p> <p>编程语言支持通过以下几种方式来解构具体问题：</p> <ul> <li>大多数的编程语言都是 <strong>过程式</strong> 的，所谓程序就是一连串告诉计算机怎样处理程序输入的指令。C、Pascal 甚至 Unix shells 都是过程式语言。</li> <li>在 <strong>声明式</strong> 语言中，你编写一个用来描述待解决问题的说明，并且这个语言的具体实现会指明怎样高效的进行计算。 SQL 可能是你最熟悉的声明式语言了。 一个 SQL 查询语句描述了你想要检索的数据集，并且 SQL 引擎会决定是扫描整张表还是使用索引，应该先执行哪些子句等等。</li> <li><strong>面向对象</strong> 程序会操作一组对象。 对象拥有内部状态，并能够以某种方式支持请求和修改这个内部状态的方法。Smalltalk 和 Java 都是面向对象的语言。 C++ 和 Python 支持面向对象编程，但并不强制使用面向对象特性。</li> <li><strong>函数式</strong> 编程则将一个问题分解成一系列函数。 理想情况下，函数只接受输入并输出结果，对一个给定的输入也不会有影响输出的内部状态。 著名的函数式语言有 ML 家族（Standard ML，Ocaml 以及其他变种）和 Haskell。</li> </ul> </div> <p>觉得讲的非常直接明了，更加详细的内容参见<a href=https://docs.python.org/zh-cn/3/howto/functional.html>函数式编程指引</a>。</p> <h2 id=_2>深入了解函数<a class=headerlink href=#_2 title="Permanent link">¶</a></h2> <p>为了学习函数式编程，我们需要把函数方面的知识扩宽一下。</p> <h3 id=_3>形参和实参<a class=headerlink href=#_3 title="Permanent link">¶</a></h3> <p>我们在定义一个函数的时候，需要声明它可以接受的参数，这称为形参（形式参数），等到实际函数运行的时候需要传入一些参数，这称为实参（实际参数）。</p> <p>所有的形参在定义的时候都可以设置默认值，不带默认值的形参调用函数的时候必须传递实参，带默认值的形参可以不传递实参。</p> <p>实参传递的时候有<code>位置实参</code>和<code>关键字实参</code>两种方式。</p> <ul> <li>位置实参：<code>f(1, 2)</code></li> <li>关键字实参：<code>f(a = 1, b=2)</code></li> <li>混合：<code>f(1, b=2)</code></li> </ul> <p>但是请注意，位置实参必须在关键字实参之前传递，否则会触发错误：<code>SyntaxError: positional argument follows keyword argument</code>。</p> <p>我们可以在定义形参的时候限制实参传递的方法，下面是从python官方文档抄来的一个标注： </p><div class=highlight><span class=filename>限制实参传递的方式</span><pre><span></span><code><span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=n>pos1</span><span class=p>,</span> <span class=n>pos2</span><span class=p>,</span> <span class=o>/</span><span class=p>,</span> <span class=n>pos_or_kwd</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>kwd1</span><span class=p>,</span> <span class=n>kwd2</span><span class=p>):</span>
      <span class=o>-----------</span>    <span class=o>----------</span>     <span class=o>----------</span>
        <span class=o>|</span>             <span class=o>|</span>                  <span class=o>|</span>
        <span class=o>|</span>        <span class=n>Positional</span> <span class=ow>or</span> <span class=n>keyword</span>   <span class=o>|</span>
        <span class=o>|</span>                                <span class=o>-</span> <span class=n>Keyword</span> <span class=n>only</span>
         <span class=o>--</span> <span class=n>Positional</span> <span class=n>only</span>
</code></pre></div> 其中<code>/</code>和<code>*</code>都是分隔符，不会被解读为形参。 <ul> <li><code>/</code>之前的参数是位置实参；</li> <li><code>*</code>之后的参数是关键字实参；</li> <li><code>/</code>和<code>*</code>之间的参数传递方式不限制。</li> </ul> <h3 id=_4>形参打包<a class=headerlink href=#_4 title="Permanent link">¶</a></h3> <p>另外，形参还有一类特殊的打包写法： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>args</span><span class=p>,</span> <span class=n>kwargs</span><span class=p>)</span>
</code></pre></div> 这个函数的第一个形参<code>*args</code>会捕获所有的位置实参组合成一个<strong>元组</strong>，第二个形参<code>**kwargs</code>会捕获所有的关键字实参组合成一个<strong>字典</strong>。 <p>举例来说： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>args</span><span class=p>,</span> <span class=n>kwargs</span><span class=p>)</span>

<span class=n>f</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=s1>'hello'</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>],</span> <span class=n>name</span><span class=o>=</span><span class=s1>'Alen'</span><span class=p>,</span> <span class=n>day</span><span class=o>=</span><span class=s1>'SUN'</span><span class=p>)</span>
</code></pre></div> 他的输出结果为： <div class=highlight><pre><span></span><code>(1, 'hello', [2, 3]) {'name': 'Alen', 'day': 'SUN'}
</code></pre></div> <p>这种打包形参的写法也可以和其他写法混合使用，例如：</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>源代码</label><label for=__tabbed_1_2>运行结果</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>kwargs</span><span class=p>)</span>

<span class=n>f</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s1>'Amy'</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>1 2
{'name': 'Amy'}
</code></pre></div> </div> </div> </div> <p>这个函数的<code>a,b</code>参数是必须要传递的参数，传递方式任意, 后面可以跟上任意多的位置参数。</p> <h3 id=_5>实参解包<a class=headerlink href=#_5 title="Permanent link">¶</a></h3> <p>和形参打包写法相对应地，实参有解包的传递方法： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>args</span><span class=p>,</span> <span class=n>kwargs</span><span class=p>)</span>

<span class=n>f</span><span class=p>(</span><span class=mi>1</span><span class=n>j</span><span class=p>,</span> <span class=o>*</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=s1>'yes'</span><span class=p>,</span> <span class=kc>True</span><span class=p>],</span> <span class=o>**</span><span class=p>{</span><span class=s1>'name'</span><span class=p>:</span><span class=s1>'Mily'</span><span class=p>,</span> <span class=s1>'year'</span><span class=p>:</span><span class=mi>2023</span><span class=p>})</span>
<span class=c1># 运行输出为：(1j, 1, 'yes', True) {'name': 'Mily', 'year': 2023}</span>
</code></pre></div> 其中<code>*</code>会把一个可迭代对象解包，把各个元素作为位置实参传递进去。<code>**</code>会把一个字典的<strong>键值对</strong>作为关键字实参传递进去。 <h3 id=_6>函数的返回值<a class=headerlink href=#_6 title="Permanent link">¶</a></h3> <p>函数的返回值使用<code>return</code>关键字来声明的，并且一旦返回了一个值，函数就会立即终止。</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>源代码</label><label for=__tabbed_2_2>运行结果</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>f</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'line 1'</span><span class=p>)</span>
    <span class=k>return</span> <span class=mi>1</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'line 3'</span><span class=p>)</span>
    <span class=k>return</span> <span class=mi>2</span>

<span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=p>())</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>line 1
1
</code></pre></div> </div> </div> </div> <p>有一种特殊的返回值：函数自身的调用，这被称为<strong>递归</strong>调用，例如下面的求斐波拉契数列第n项的函数： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>fib</span><span class=p>(</span><span class=n>n</span> <span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span> <span class=ow>and</span> <span class=n>n</span> <span class=o>&gt;=</span> <span class=mi>0</span>
    <span class=k>if</span> <span class=n>n</span><span class=o>==</span><span class=mi>0</span> <span class=ow>or</span> <span class=n>n</span><span class=o>==</span><span class=mi>1</span><span class=p>:</span>
        <span class=k>return</span> <span class=mi>1</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>fib</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>fib</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>


<span class=nb>print</span><span class=p>(</span><span class=n>fib</span><span class=p>(</span><span class=mi>2</span><span class=p>))</span> <span class=c1># 返回值是2</span>
<span class=nb>print</span><span class=p>(</span><span class=n>fib</span><span class=p>(</span><span class=mi>3</span><span class=p>))</span> <span class=c1># 返回值是3</span>
<span class=nb>print</span><span class=p>(</span><span class=n>fib</span><span class=p>(</span><span class=mi>4</span><span class=p>))</span> <span class=c1># 返回值是5</span>
<span class=nb>print</span><span class=p>(</span><span class=n>fib</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span> <span class=c1># 返回值是8</span>
</code></pre></div> 它的返回值是自身的一个调用。 <p>如果需要写递归函数，请务必明确定义<strong>递归的出口</strong>，否则代码将陷入无止境的递归。</p> <p>递归函数的运行过程可以借助下面的代码可视化来理解：</p> <iframe frameborder=0 height=600 src="https://pythontutor.com/iframe-embed.html#code=def%20fib%28n%20%3A%20int%29%3A%0A%20%20%20%20assert%20isinstance%28n,%20int%29%20and%20n%20%3E%3D%200%0A%20%20%20%20if%20n%3D%3D0%20or%20n%3D%3D1%3A%0A%20%20%20%20%20%20%20%20return%201%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20return%20fib%28n-1%29%20%2B%20fib%28n-2%29%0A%0Aprint%28fib%284%29%29%20%23%20%E8%BF%94%E5%9B%9E%E5%80%BC%E6%98%AF4&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false" width=800> </iframe> <h3 id=_7>函数的注释<a class=headerlink href=#_7 title="Permanent link">¶</a></h3> <p>我一直强调<code>help</code>函数的重要性，现在我们自己写了一个函数，如果把他丢进<code>help</code>函数会发生什么呢？</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:2><input checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>源代码</label><label for=__tabbed_3_2>运行结果</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><span class=filename>零注释</span><pre><span></span><code><span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>a</span><span class=o>+</span><span class=n>b</span>

<span class=n>help</span><span class=p>(</span><span class=n>add</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>Help on function add in module __main__:

add(a, b)
</code></pre></div> </div> </div> </div> <p>可以看见，啥也没有，这对于用户来说（甚至对于自己来说）都是非常不友好的。因此我们需要对函数进行一些注释：</p> <div class="tabbed-set tabbed-alternate" data-tabs=4:2><input checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>源代码</label><label for=__tabbed_4_2>运行结果</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><span class=filename>完备注释</span><pre><span></span><code><span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=n>a</span> <span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>b</span> <span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>"""</span>
<span class=sd>    输入两个整数a和b</span>
<span class=sd>    返回他们的加和的字符串形式</span>
<span class=sd>    """</span>
    <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=n>a</span><span class=o>+</span><span class=n>b</span><span class=p>)</span>

<span class=n>help</span><span class=p>(</span><span class=n>add</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>Help on function add in module __main__:

add(a: int, b: int) -&gt; str
    输入两个整数a和b
    返回他们的加和的字符串形式
</code></pre></div> </div> </div> </div> <p>这样一来，输入什么，输出什么，参数都应该是什么类型的一目了然。并且还有类型注释（形参<code>a : int</code>和返回值<code>-&gt; str</code>）以及文字注释。</p> <p>三引号内的内容被称作<code>documentation string</code>，可以用<code>__doc__</code>来访问： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>f</span><span class=p>():</span>
<span class=w>    </span><span class=sd>"""这里是函数的doc"""</span>
    <span class=k>pass</span>

<span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=o>.</span><span class=vm>__doc__</span><span class=p>)</span>
<span class=c1># 输出：这里是函数的doc</span>
</code></pre></div> 写完备的注释，你好我好大家好。 <h2 id=_8>迭代器<a class=headerlink href=#_8 title="Permanent link">¶</a></h2> <p><code>迭代器（iterator）</code>和之前遇到过的<code>可迭代对象（iterable）</code>有点类似。</p> <p>迭代器指的是实现了<code>__next__</code>方法的对象（通常是一个数据流），能够通过这个方法（或者<code>next()</code>函数）访问数据流中的下一个。</p> <p>可迭代对象指的是实现了<code>__iter__</code>方法的对象，把该对象传递给<code>iter()</code>函数可以返回一个迭代器。</p> <p>例如<code class=highlight><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span></code>就是一个可迭代对象，<code class=highlight><span class=nb>iter</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span></code>就是一个迭代器。</p> <p>下面是一个示例：</p> <div class="tabbed-set tabbed-alternate" data-tabs=5:2><input checked id=__tabbed_5_1 name=__tabbed_5 type=radio><input id=__tabbed_5_2 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=__tabbed_5_1>源代码</label><label for=__tabbed_5_2>运行结果</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>iterable</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
<span class=n>iterator</span> <span class=o>=</span> <span class=nb>iter</span><span class=p>(</span><span class=n>iterable</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>iterator</span><span class=o>.</span><span class=vm>__class__</span><span class=p>)</span>
<span class=k>while</span> <span class=mi>1</span><span class=p>:</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>iterator</span><span class=o>.</span><span class=fm>__next__</span><span class=p>())</span>
    <span class=k>except</span> <span class=ne>StopIteration</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=s1>'迭代器终止'</span><span class=p>)</span>
        <span class=k>break</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>&lt;class 'list_iterator'&gt;
1
2
3
迭代器终止
</code></pre></div> </div> </div> </div> <p>知道了这些，我们完全可以自己动手写一个迭代器：</p> <div class="tabbed-set tabbed-alternate" data-tabs=6:2><input checked id=__tabbed_6_1 name=__tabbed_6 type=radio><input id=__tabbed_6_2 name=__tabbed_6 type=radio><div class=tabbed-labels><label for=__tabbed_6_1>源代码</label><label for=__tabbed_6_2>运行结果</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>List</span><span class=p>:</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>data</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>cur</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span>
    <span class=k>def</span> <span class=fm>__next__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>cur</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>cur</span> <span class=o>+=</span> <span class=mi>1</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>cur</span><span class=p>]</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>StopIteration</span><span class=p>(</span><span class=s2>"迭代器终止"</span><span class=p>)</span>
<span class=n>l</span> <span class=o>=</span> <span class=n>List</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=k>while</span> <span class=mi>1</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>l</span><span class=p>))</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>1
2
3
Traceback (most recent call last):
File "C:\Users\yangz\Desktop\AIboy996.GitHub.io\example.py", line 13, in &lt;module&gt;
    print(next(l))
File "C:\Users\yangz\Desktop\AIboy996.GitHub.io\example.py", line 10, in __next__
    raise StopIteration("迭代器终止")
StopIteration: 迭代器终止
</code></pre></div> </div> </div> </div> <p>好像有点麻烦？用生成器吧！</p> <details class=question> <summary>为什么要用迭代器？</summary> <p>一言蔽之就是节约资源。</p> <p>举例来说，我现在需要逐个计算并且输出斐波拉契数列的每一项（例如前1000项）。</p> <p>使用传统的递归写法，有点蠢：</p> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>fib</span><span class=p>(</span><span class=n>n</span> <span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span> <span class=ow>and</span> <span class=n>n</span> <span class=o>&gt;=</span> <span class=mi>0</span>
    <span class=k>if</span> <span class=n>n</span><span class=o>==</span><span class=mi>0</span> <span class=ow>or</span> <span class=n>n</span><span class=o>==</span><span class=mi>1</span><span class=p>:</span>
        <span class=k>return</span> <span class=mi>1</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>fib</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>fib</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>
<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>fib</span><span class=p>(</span><span class=mi>1000</span><span class=p>))</span>
</code></pre></div> <p>稍作优化或许可以改成递推的写法：</p> <p></p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>fib</span><span class=p>(</span><span class=n>n</span> <span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
    <span class=n>l</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>*</span><span class=n>n</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>):</span>
        <span class=n>a</span><span class=p>,</span><span class=n>b</span> <span class=o>=</span> <span class=n>l</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>l</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span>
        <span class=n>l</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>
    <span class=k>return</span> <span class=n>l</span>
<span class=nb>print</span><span class=p>(</span><span class=o>*</span><span class=n>fib</span><span class=p>(</span><span class=mi>10</span><span class=p>),</span> <span class=n>sep</span><span class=o>=</span><span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>)</span>
</code></pre></div> 但是不论哪种，都无法达成<code>即用即算</code>的效果。用黑话来说就是<code>同步</code>完成了所有的计算，无法<code>异步</code>计算。 <p>而如果使用迭代器，调用一次<code>fib(1000)</code>之后，就可以用<code>next()</code>来做异步计算，每次需要的时候再算一下就行。</p> <p>“异步”的特性我们会在下一节更加深入地去讲解。</p> </details> <h2 id=_9>生成器<a class=headerlink href=#_9 title="Permanent link">¶</a></h2> <p>迭代器虽然很重要，但是在函数式编程这一块我们不去深入学习它，只是作为生成器的引入。</p> <p><strong>生成器</strong>（generator）指的是含有<code>yield</code>关键字的函数的<strong>返回值</strong>，它是一种特殊的迭代器。其中返回生成器的函数称为<strong>生成器函数</strong>。</p> <p>严格来说，生成器才是真正“随用随算”的实现方法，只有当我们迭代到生成器中的值时它才会完成相应的计算，这样可以大大节省资源。</p> <blockquote> <p>很多迭代器只是先完成计算，然后提供了一种遍历计算结果的方法。</p> </blockquote> <h3 id=_10>简单生成器<a class=headerlink href=#_10 title="Permanent link">¶</a></h3> <p>例如： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>g</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
        <span class=k>yield</span> <span class=n>i</span>

<span class=nb>print</span><span class=p>(</span><span class=n>g</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=o>.</span><span class=vm>__class__</span><span class=p>)</span> <span class=c1># 打印出 &lt;class 'generator'&gt;</span>
</code></pre></div> <p>上例中<code>g(2)</code>就是一个生成器。</p> <p>虽然这个函数并没有一般意义上的输出<code>return</code>，但是它仍然是有返回值的。每当我们传递一个整数进去，他都会返回一个生成器。</p> <p>生成器既然是特殊的迭代器，就自然可以当作迭代器来使用：</p> <div class="tabbed-set tabbed-alternate" data-tabs=7:2><input checked id=__tabbed_7_1 name=__tabbed_7 type=radio><input id=__tabbed_7_2 name=__tabbed_7 type=radio><div class=tabbed-labels><label for=__tabbed_7_1>源代码</label><label for=__tabbed_7_2>运行结果</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>g</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
        <span class=k>yield</span> <span class=n>i</span>

<span class=n>g</span> <span class=o>=</span> <span class=n>g</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
<span class=k>while</span> <span class=mi>1</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>g</span><span class=p>))</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>0
1
2
Traceback (most recent call last):
File "C:\Users\yangz\Desktop\AIboy996.GitHub.io\example.py", line 8, in &lt;module&gt;
    print(next(g))
StopIteration
</code></pre></div> </div> </div> </div> <h3 id=_11>生成器推导式<a class=headerlink href=#_11 title="Permanent link">¶</a></h3> <p>之前我们提到过列表、集合、字典可以使用<a href=../../BasicSyntax/builtin_class/#_5>推导式生成</a>，实际上生成器也可以使用推导式。</p> <p>它的语法和列表生成器类似，只不过使用<code>()</code>来标识，例如： </p><div class=highlight><pre><span></span><code><span class=n>g</span> <span class=o>=</span> <span class=p>(</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>
</code></pre></div> 这时候<code>g</code>就是一个生成器。我们可以用它来做运算： <div class=highlight><pre><span></span><code><span class=n>g</span> <span class=o>=</span> <span class=p>(</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>sum</span><span class=p>(</span><span class=n>g</span><span class=p>))</span> <span class=c1>## print 45</span>
</code></pre></div> <h3 id=_12>协程<a class=headerlink href=#_12 title="Permanent link">¶</a></h3> <p>按照官方的说法：</p> <blockquote> <p>生成器是一类用来<strong>简化</strong>编写迭代器工作的特殊函数。普通的函数计算并返回一个值，而生成器返回一个能返回数据流的迭代器。</p> </blockquote> <p>生成器存在的意义就是简化迭代器工作。</p> <p>但这可能只是初衷，发展到今天，现在的生成器已经有了很多独有的特性。</p> <p>例如下面的例子，把<code>yield x</code>作为右值赋值给一个变量，可以实现“协程”的效果：</p> <div class="tabbed-set tabbed-alternate" data-tabs=8:2><input checked id=__tabbed_8_1 name=__tabbed_8 type=radio><input id=__tabbed_8_2 name=__tabbed_8 type=radio><div class=tabbed-labels><label for=__tabbed_8_1>源代码</label><label for=__tabbed_8_2>运行结果</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>imitator</span><span class=p>():</span>
<span class=w>    </span><span class=sd>"""模仿者，不论你给他发什么都会返回你发的内容"""</span>
    <span class=n>received</span> <span class=o>=</span> <span class=s2>"hello"</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>received</span> <span class=o>=</span> <span class=k>yield</span> <span class=n>received</span>

<span class=n>imt</span> <span class=o>=</span> <span class=n>imitator</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>imt</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=kc>None</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>imt</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=s1>'are u ok?'</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>imt</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=s1>'why u repeat what i said?'</span><span class=p>))</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>hello
are u ok?
why u repeat what i said?
</code></pre></div> </div> </div> </div> <p>再比如<code>yield from</code>这样的新语法（详见<a href=https://peps.python.org/pep-0342/ >PEP 342 – Coroutines via Enhanced Generators</a>），我就不再赘述了。</p> <h2 id=_13>装饰器<a class=headerlink href=#_13 title="Permanent link">¶</a></h2> <p>最后来介绍我认为的Python中最好用的语法糖——装饰器（decorator）。</p> <h3 id=_14>简单装饰器<a class=headerlink href=#_14 title="Permanent link">¶</a></h3> <p>对于一个已有的函数： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>hello</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'hello'</span><span class=p>)</span>
</code></pre></div> 我们可以通过“装饰器”来给他加上额外的效果。 <p>装饰器的基本写法是： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>hello</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'hello'</span><span class=p>)</span>

<span class=c1># 这个函数就叫做装饰器（decorator</span>
<span class=k>def</span> <span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=c1># 内层这个函数是wrapper，可以理解为包装纸</span>
    <span class=c1># 它的作用就是给func函数的运行加上额外的效果</span>
    <span class=c1># 注意到这里wrapper函数的参数是【*args, **kwargs】</span>
    <span class=c1># 也就是来者不拒，并且在最后原封不动传递给了func</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s1>'yang, '</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>''</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=c1>### 装饰器的使用方式 ##########</span>
<span class=n>hello</span> <span class=o>=</span> <span class=n>decorator</span><span class=p>(</span><span class=n>hello</span><span class=p>)</span>   <span class=c1>###</span>
<span class=c1>#############################</span>


<span class=n>hello</span><span class=p>()</span>  <span class=c1># 输出：yang, hello</span>
</code></pre></div> 可以看到，装饰器虽然名字很吓人。本质上就是一类函数。特殊之处在于，它的返回值也是函数（这样的函数称为高级函数）。 <p>调用装饰过的<code>hello()</code>函数时，本质上就是在调用<code>decorator(hello)()</code>。</p> <p>但是这样似乎不太优雅，更pythonic的<code>@</code>语法糖写法是： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>enhance</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s1>'yang, '</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>''</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@enhance</span>
<span class=k>def</span> <span class=nf>hello</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'hello'</span><span class=p>)</span>
</code></pre></div> <details class=question> <summary>为什么要用装饰器？</summary> <p>要给<code>hello()</code>加一个小功能，为什么要大费周章写一个装饰器函数呢？</p> <p>这样做的好处在于，我们不需要改变<code>hello()</code>的内部代码，也不需要把它的代码复制一份。</p> <p>我们写了一个<strong>独立的</strong>函数： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>enhance</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s1>'yang, '</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>''</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span>
</code></pre></div> 使用<code>@enhance</code>就可以把它的功能扩展到了原有的函数上，如果我们有很多个函数需要扩展功能，就可以如法炮制快速完成了。 <p>这样的<strong>模块化</strong>扩展，使得程序的逻辑结构更加清晰，某种程度上也更加易读。</p> <p>总之 - 独立性 - 易用性【可复用】 - 可读性</p> </details> <h3 id=_15>带参数的装饰器<a class=headerlink href=#_15 title="Permanent link">¶</a></h3> <p>很多时候，我们需要扩展的这个模块可自定义。</p> <p>现在我们的装饰器只能加上一个特定的前缀<code>yang,</code>，如果要自定义这个前缀可以这样写： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>to</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s1>'yang'</span><span class=p>)</span>
    <span class=k>def</span> <span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s1>, '</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>''</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=nd>@to</span><span class=p>(</span><span class=s1>'Alen'</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>hello</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'hello'</span><span class=p>)</span>

<span class=n>hello</span><span class=p>()</span> <span class=c1># 输出：Alen, hello</span>
</code></pre></div> <p>也不难理解，调用装饰完的<code>hello()</code>相当于调用<code class=highlight><span class=n>to</span><span class=p>(</span><span class=s1>'Alen'</span><span class=p>)(</span><span class=n>hello</span><span class=p>)()</span></code>。</p> <h3 id=_16>装饰器的用途<a class=headerlink href=#_16 title="Permanent link">¶</a></h3> <p>前面提到的算是最常见的用途之一，日志。当我们想要某个函数运行的时候输出特定的内容，可以使用装饰器。</p> <p>此外，装饰器还可以验证登录状态、处理输入的参数、处理异常等等。我分别举一个例子，权当抛砖引玉帮助读者拓宽思路。</p> <h4 id=1>1<a class=headerlink href=#1 title="Permanent link">¶</a></h4> <p></p><div class=highlight><span class=filename>验证登录状态</span><pre><span></span><code><span class=n>LOGIN</span> <span class=o>=</span> <span class=kc>False</span>

<span class=k>def</span> <span class=nf>need_login</span><span class=p>(</span><span class=n>status</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>status</span><span class=p>:</span>
                <span class=k>if</span> <span class=n>LOGIN</span><span class=p>:</span>
                    <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s1>'需要登录'</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=nd>@need_login</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>login</span><span class=p>():</span>
    <span class=k>global</span> <span class=n>LOGIN</span>
    <span class=n>LOGIN</span> <span class=o>=</span> <span class=kc>True</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'登陆成功'</span><span class=p>)</span>

<span class=nd>@need_login</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>logout</span><span class=p>():</span>
    <span class=k>global</span> <span class=n>LOGIN</span>
    <span class=n>LOGIN</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'登出成功'</span><span class=p>)</span>

<span class=k>try</span><span class=p>:</span>
    <span class=n>logout</span><span class=p>()</span>
<span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
    <span class=n>login</span><span class=p>()</span>
    <span class=n>logout</span><span class=p>()</span>
</code></pre></div> 上面的程序输出应该是： <div class=highlight><pre><span></span><code>需要登录
登陆成功
登出成功
</code></pre></div> 这样一种登录状态的验证在web服务器编程中是非常常见的，如果读者后续学习Flask、Django等框架应该还会见到。 <h4 id=2>2<a class=headerlink href=#2 title="Permanent link">¶</a></h4> <p></p><div class=highlight><span class=filename>处理输入的参数</span><pre><span></span><code><span class=k>def</span> <span class=nf>split</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>b</span><span class=o>-</span><span class=n>a</span> <span class=o>&gt;</span> <span class=mi>3</span><span class=p>:</span>
            <span class=n>m</span> <span class=o>=</span> <span class=p>(</span><span class=n>a</span><span class=o>+</span><span class=n>b</span><span class=p>)</span><span class=o>/</span><span class=mi>2</span>
            <span class=k>return</span> <span class=n>wrapper</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>m</span><span class=p>)</span> <span class=o>+</span> <span class=n>wrapper</span><span class=p>(</span><span class=n>m</span><span class=p>,</span><span class=n>b</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@split</span>
<span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>):</span>
    <span class=k>assert</span> <span class=n>a</span> <span class=o>&lt;</span> <span class=n>b</span>
    <span class=k>return</span> <span class=p>[(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>)]</span>

<span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>))</span> <span class=c1># 输出：[(1, 3)]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>))</span> <span class=c1># 输出：[(-3, -1.0), (-1.0, 1.0), (1.0, 3.0), (3.0, 5)]</span>
</code></pre></div> 这种装饰器也是很常见的一种，很多时候我们需要对输入的参数进行特殊处理。而这种处理可以用装饰器写成模块化的工具。 <p>值得注意的是，这里在装饰器内部加入了递归写法，非常巧妙。</p> <h4 id=3>3<a class=headerlink href=#3 title="Permanent link">¶</a></h4> <p></p><div class=highlight><span class=filename>处理异常</span><pre><span></span><code><span class=kn>import</span> <span class=nn>random</span>
<span class=n>random</span><span class=o>.</span><span class=n>seed</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>

<span class=k>def</span> <span class=nf>retry</span><span class=p>(</span><span class=n>n</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>error</span><span class=o>=</span><span class=ne>AssertionError</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
                <span class=k>try</span><span class=p>:</span>
                    <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
                    <span class=k>break</span>
                <span class=k>except</span> <span class=n>error</span><span class=p>:</span>
                    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>'retry(</span><span class=si>{</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=si>}</span><span class=s1>)'</span><span class=p>)</span>
                    <span class=k>continue</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=nd>@retry</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>flip</span><span class=p>():</span>
    <span class=n>r</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>random</span><span class=p>()</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>r</span><span class=p>)</span>
    <span class=k>assert</span> <span class=n>r</span> <span class=o>&gt;</span> <span class=mf>.8</span>

<span class=n>flip</span><span class=p>(</span><span class=n>n</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span> <span class=n>error</span><span class=o>=</span><span class=ne>AssertionError</span><span class=p>)</span>
<span class=sd>"""</span>
<span class=sd>输出：</span>
<span class=sd>0.5714025946899135</span>
<span class=sd>retry(1)</span>
<span class=sd>0.4288890546751146</span>
<span class=sd>retry(2)</span>
<span class=sd>0.5780913011344704</span>
<span class=sd>retry(3)</span>
<span class=sd>0.20609823213950174</span>
<span class=sd>retry(4)</span>
<span class=sd>0.81332125135732</span>
<span class=sd>"""</span>
</code></pre></div> 这也是很常见的用法，尤其是在网络通信编程中，重试是非常常见的需求。 <p>上面的例子中我们写了一个装饰器捕捉特定的<code>error</code>，如果触发就重试直到满<code>n</code>次。</p> <details class=question> <summary>装饰器完之后还是原来的函数嘛？</summary> <p>例如： </p><div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>        </span><span class=sd>"""this is wrapper"""</span>
        <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span> 

<span class=nd>@decorator</span>
<span class=k>def</span> <span class=nf>f</span><span class=p>():</span>
<span class=w>    </span><span class=sd>"""this is f"""</span>
    <span class=k>pass</span>

<span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=o>.</span><span class=vm>__name__</span><span class=p>)</span> <span class=c1># 输出：wrapper</span>
<span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=o>.</span><span class=vm>__doc__</span><span class=p>)</span> <span class=c1># 输出：this is wrapper</span>
</code></pre></div> 可见，被装饰器装饰的函数函数名<code>__name__</code>和函数文档<code>__doc__</code>都会被<code>wrapper</code>覆盖，换言之物是人非，已经完全变成了<code>wrapper</code>的形状。 <p>那有什么办法可以阻止这种覆盖呢？</p> <p>答案是下一节介绍的<code>functools.wraps</code>装饰器。</p> </details> <h3 id=python>python内置的装饰器<a class=headerlink href=#python title="Permanent link">¶</a></h3> <blockquote> <p>下面的例子都来自<a href=https://docs.python.org/3/library/functools.html>官方</a></p> </blockquote> <p>在内置包<code>functools</code>里有非常一些好用的装饰器，例如<code>cache</code>就可以增加函数调用的缓存： </p><div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>cache</span>

<span class=nd>@cache</span>
<span class=k>def</span> <span class=nf>factorial</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'call '</span><span class=p>,</span> <span class=n>n</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>n</span> <span class=o>*</span> <span class=n>factorial</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=k>if</span> <span class=n>n</span> <span class=k>else</span> <span class=mi>1</span>
</code></pre></div> 可以很方便地实现下面的效果： <div class=highlight><span class=filename>交互运行</span><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=n>factorial</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>      <span class=c1># 没有缓存，会有6层递归调用</span>
<span class=n>call</span>  <span class=mi>5</span>
<span class=n>call</span>  <span class=mi>4</span>
<span class=n>call</span>  <span class=mi>3</span>
<span class=n>call</span>  <span class=mi>2</span>
<span class=n>call</span>  <span class=mi>1</span>
<span class=n>call</span>  <span class=mi>0</span>
<span class=mi>120</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>factorial</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>       <span class=c1># 前面已经计算过了4!，直接使用缓存</span>
<span class=mi>24</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>factorial</span><span class=p>(</span><span class=mi>7</span><span class=p>)</span>      <span class=c1># 前面已经计算了5!，只需要两层新的计算</span>
<span class=n>call</span>  <span class=mi>7</span>
<span class=n>call</span>  <span class=mi>6</span>
<span class=mi>5040</span>
</code></pre></div> <p>再如<code>wraps</code> </p><div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>wraps</span>
<span class=k>def</span> <span class=nf>my_decorator</span><span class=p>(</span><span class=n>f</span><span class=p>):</span>
    <span class=nd>@wraps</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwds</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s1>'Calling decorated function'</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>f</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwds</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@my_decorator</span>
<span class=k>def</span> <span class=nf>example</span><span class=p>():</span>
<span class=w>    </span><span class=sd>"""Docstring"""</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'Called example function'</span><span class=p>)</span>
</code></pre></div> <code>wraps</code>可以在我们使用装饰器的时候，保留原有函数的函数名<code>__name__</code>和文档<code>__doc__</code>。 <div class=highlight><span class=filename>交互运行</span><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=n>example</span><span class=p>()</span>
<span class=n>Calling</span> <span class=n>decorated</span> <span class=n>function</span>
<span class=n>Called</span> <span class=n>example</span> <span class=n>function</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>example</span><span class=o>.</span><span class=vm>__name__</span>
<span class=s1>'example'</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>example</span><span class=o>.</span><span class=vm>__doc__</span>
<span class=s1>'Docstring'</span>
</code></pre></div> <p>大家可以去<a href=https://docs.python.org/3/library/functools.html>官方文档</a>了解更多。</p></div> <!-- 首页放一个标签云 --> <!-- Source file information --> <hr> <div class=md-source-file> <small> 最后更新: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">March 7, 2024</span> <br> 创建日期: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">January 13, 2023</span> </small> </div> <!-- Was this page helpful? --> <form class=md-feedback hidden name=feedback> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" data-md-value=1 title="This page was helpful" type=submit> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"></path></svg> </button> <button class="md-feedback__icon md-icon" data-md-value=0 title="This page could be improved" type=submit> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"></path></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help me improve this page by using the <a href="https://github.com/AIboy996/AIboy996.GitHub.io/issues/new/?title=[Feedback]+%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B+-+/Python/SeniorSyntax/functional_programming/" rel=noopener target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> <!-- Comment system --> <h2 id=__comments>评论</h2> <script async crossorigin=anonymous data-category=Announcements data-category-id=DIC_kwDOFgFkxM4CT4vh data-emit-metadata=1 data-input-position=top data-lang=zh-CN data-loading=lazy data-mapping=pathname data-reactions-enabled=0 data-repo=AIboy996/AIboy996.GitHub.io data-repo-id="MDEwOlJlcG9zaXRvcnkzNjkxOTAwODQ=" data-strict=1 data-theme=preferred_color_scheme src=https://giscus.app/client.js>
</script> <!-- Synchronize Giscus theme with palette --> <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script> </article> </div> </div> <a class="md-top md-icon" data-md-component=top hidden href=#> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg> 回到页面顶部 </a> </main> <footer class=md-footer> <nav aria-label=页脚 class="md-footer__inner md-grid"> <a aria-label="上一页: 内置关键字" class="md-footer__link md-footer__link--prev" href=../../BasicSyntax/builtin_keyword/ rel=prev> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> 上一页 </span> 内置关键字 </div> </div> </a> <a aria-label="下一页: 面向对象编程" class="md-footer__link md-footer__link--next" href=../OOP/ rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> 下一页 </span> 面向对象编程 </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> <a href=https://github.com/AIboy996/AIboy996.GitHub.io/blob/main/LICENSE>© 2022-2023 yangzhang</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a> </div> <div class=md-social> <a class=md-social__link href=https://github.com/AIboy996 rel=noopener target=_blank title="GitHub | AIboy996"> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </a> <a class=md-social__link href=https://space.bilibili.com/85735334 rel=noopener target=_blank title="BiliBili | 豆汁泡纳豆"> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603 5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8 6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5-9.6 0-17.5-3.2-23.6-9.5-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2 6.3-6.3 13.2-9.6 23.3-10 9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.1 6.3-14 9.5-23.6 9.5-9.6 0-17.4-3.2-23.6-9.5-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2 6.3-6.3 14.1-9.6 23.3-10 9.2.4 17 3.7 23.3 10z"></path></svg> </a> <a class=md-social__link href=https://bangumi.tv/anime/list/759154/do rel=noopener target=_blank title=bangumi追番列表> <svg viewbox="0 0 576 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M184.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L39 113c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L95 101.2 150.1 40c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L39 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L95 261.2l55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM256 96c0-17.7 14.3-32 32-32h224c17.7 0 32 14.3 32 32s-14.3 32-32 32H288c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32h224c17.7 0 32 14.3 32 32s-14.3 32-32 32H288c-17.7 0-32-14.3-32-32zm-64 160c0-17.7 14.3-32 32-32h288c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32zM80 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"></path></svg> </a> <a class=md-social__link href=https://yangzhang.site/feed_rss_updated.xml rel=noopener target=_blank title=RSS> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64zm128 352c0 35.3-28.7 64-64 64S0 451.3 0 416s28.7-64 64-64 64 28.7 64 64zM32 160c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent hidden id=__consent> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>I am using cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of posts and whether users can find what they're searching for. With your consent, all of this are helping me to make my site better.</p> <input class=md-toggle id=__settings type=checkbox> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input checked name=analytics type=checkbox> <span class=task-list-indicator></span> Google Analytics <label> </label></label></li> <li class=task-list-item> <label class=task-list-control> <input checked name=github type=checkbox> <span class=task-list-indicator></span> GitHub <label> </label></label></li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">同意</button> <label class=md-button for=__settings>管理设定</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../../..", "features": ["content.code.annotate", "navigation.tabs", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../../assets/javascripts/bundle.5a2dcb6a.min.js></script> <script src=../../../assets/javascripts/color.js></script> <script src=../../../assets/javascripts/termynal.js></script> <script src=../../../assets/javascripts/gen_termynal.js></script> <script src=https://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@3.0.8/js/maodian.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body> </html>