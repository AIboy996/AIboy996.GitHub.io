---
tags:
- NAS
- æŠ˜è…¾
- Docker
- VPN
---

# Plexå®æ—¶æ´»åŠ¨
> <https://plex.yangz.site>

æœ€ç»ˆæ•ˆæœï¼š

<iframe
  id="plex"
  title="Plexå®å†µ"
  height="500"
  width="100%"
  style="border:none;"
  src="https://plex.yangz.site">
</iframe>

## BroadcastChannel

æœ€è¿‘æ‰¾åˆ°äº†ä¸€ä¸ªæ–°ç©å…·ï¼š

<figure markdown>
[![ccbikai/BroadcastChannel - GitHub](https://gh-card.dev/repos/ccbikai/BroadcastChannel.svg?fullname=)](https://github.com/ccbikai/BroadcastChannel)
</figure>

è¿™ä¸ªé¡¹ç›®å¯ä»¥æŠŠtelegramçš„é¢‘é“è½¬æ¢æˆä¸€ä¸ª**å¾®åšå®¢**ã€‚æˆ‘æ›¾ç»è‹¦è‹¦å¯»æ‰¾äº†å¾ˆå¤šç±»ä¼¼çš„å¾®åšå®¢é¡¹ç›®ï¼Œä¾‹å¦‚å¾ˆçƒ­é—¨çš„[Memos](https://github.com/usememos/memos)ï¼š

![](https://camo.githubusercontent.com/5ce8c14391d98f993a094051b59eeff3bf4f675462130670c68e2fa4a12c5b95/68747470733a2f2f7777772e7573656d656d6f732e636f6d2f64656d6f2e706e67)

å†æ¯”å¦‚[Flomo](https://flomoapp.com/)

![](https://resource.flomoapp.com/home/202203/product.png)


ä½†éƒ½å¤ªé‡äº†ï¼Œéœ€è¦è‡ªå»ºæœåŠ¡å™¨æˆ–è€…å•ç‹¬ä¸‹è½½ä¸€ä¸ªappã€‚è€ŒBroadcastChannelæ°å¥½å‡»ä¸­äº†æˆ‘çš„å…¨éƒ¨ç—›ç‚¹ï¼Œå¾—çŸ¥è¿™ä¸ªé¡¹ç›®çš„ç¬¬äºŒå¤©æˆ‘å°±éƒ¨ç½²äº†ä¸€ä¸ªï¼š<https://whisper.yangz.site>ã€‚

## Publier

æ— ç‹¬æœ‰å¶ï¼ŒåŒæ—¶å‘ç°äº†[Publier](https://publier.app/)ã€‚å®ƒå¯ä»¥é€šè¿‡Plexçš„WebhookåŠŸèƒ½æŠŠPlexçš„æ´»åŠ¨å®æ—¶å‘é€åˆ°Telegramã€Discordç­‰å¹³å°ã€‚å’Œä¸Šé¢çš„BroadcastChannelæ­é…èµ·æ¥ä¸å°±æ˜¯å®Œç¾çš„Plexå®å†µå˜›ã€‚

![](assets/2024-08-19-22-36-29.png)

ä½†ä¼—æ‰€å‘¨çŸ¥ï¼ŒPlex passçš„ä»·æ ¼å®åœ¨æ˜¯å¤ªè´µäº†ï¼Œæˆ‘è‡ªç„¶æ˜¯ç”¨ä¸èµ·åŸç”Ÿçš„WebhookåŠŸèƒ½çš„ï¼Œæ‰€ä»¥æˆ‘åªèƒ½è‡ªå·±ç”¨Pythonå†™ä¸€ä¸ªå°ç¨‹åºå‘é€è¯·æ±‚ï¼ˆä»¥åŠä½¿ç”¨ä¸‹é¢çš„Tautalliè§¦å‘Webhookï¼‰ï¼Œä½†æ˜¯æ— è®ºå¦‚ä½•éƒ½ä¸å¥æ•ˆã€‚Publieråˆä¸æ˜¯å¼€æºé¡¹ç›®ï¼Œç½‘ä¸Šå®åœ¨æ˜¯æ²¡ä»€ä¹ˆèµ„æ–™å¯æŸ¥ï¼Œäºæ˜¯åªèƒ½æ”¾å¼ƒã€‚

## Tautalli

å¥½åœ¨ï¼Œæˆ‘åˆæ‰¾åˆ°äº†[Tautalli](https://tautulli.com/)ã€‚å®ƒæ˜¯ä¸€ä¸ªå¼€æºçš„Plexç›‘æ§å™¨ã€‚

??? question "What is Tautulli?"

    > verb | tau â€¢ tu â€¢ li | /taÊŠ'-tu'-liË/ | To watch or monitor

    Tautulli is a 3rd party application that you can run alongside your Plex Media Server to monitor activity and track various statistics. Most importantly, these statistics include what has been watched, who watched it, when and where they watched it, and how it was watched. The only thing missing is "why they watched it", but who am I to question your 42 plays of Frozen. All statistics are presented in a nice and clean interface with many tables and graphs, which makes it easy to brag about your server to everyone else.


å®ƒå¯ä»¥ç›‘æ§Plexçš„æ´»åŠ¨ï¼Œè¿˜å¯ä»¥ä½œä¸ºæŠŠPlexçš„å®æ—¶æ´»åŠ¨æ¨é€åˆ°å…¶ä»–å¹³å°ï¼ˆè‡ªç„¶æ˜¯[æ”¯æŒTelegram](https://github.com/Tautulli/Tautulli/wiki/Notification-Agents-Guide#telegram)çš„ï¼‰ï¼Œä¼Ÿå¤§æ— éœ€å¤šè¨€ï¼

<figure markdown>
[![Tautulli/Tautulli - GitHub](https://gh-card.dev/repos/Tautulli/Tautulli.svg?fullname=)](https://github.com/Tautulli/Tautulli)
</figure>

é¢˜å¤–è¯ï¼šTautalliæ˜¯æˆ‘ä»ä¸‹é¢è¿™ä¸ªBangumiè‡ªåŠ¨ç‚¹æ ¼å­é¡¹ç›®çœ‹åˆ°çš„ï¼Œæœç„¶ç¨‹åºå‘˜çš„æ‡’æƒ°æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›ã€‚

<figure markdown>
[![SanaeMio/Bangumi-syncer - GitHub](https://gh-card.dev/repos/SanaeMio/Bangumi-syncer.svg?fullname=)](https://github.com/SanaeMio/Bangumi-syncer)
</figure>

### webhook payloadæ¨¡æ¿
é»˜è®¤æƒ…å†µä¸‹ï¼ŒTautalliçš„Telegramæ¶ˆæ¯æ¨¡æ¿å¤ªç®€é™‹äº†ã€‚æˆ‘å»æ‰¾äº†ä¸€ä¸ªæ¯”è¾ƒä¸°å¯Œçš„ï¼š

<figure markdown>
[![smtdev/tautulli-telegram-notifications - GitHub](https://gh-card.dev/repos/smtdev/tautulli-telegram-notifications.svg?fullname=)](https://github.com/smtdev/tautulli-telegram-notifications)
</figure>

ä¾‹å¦‚æ¯æ¬¡çœ‹å®Œä¸€ä¸ªå‰§é›†ï¼Œå°±åœ¨é¢‘é“å†…å‘é€ï¼š

```text
<b>æœ€è¿‘åœ¨çœ‹ï¼š{title} ({year}) - {content_rating}</b>

ğŸ¢  <b>Studio:</b> <i>{studio}</i>
ğŸ‘·ğŸ»  <b>Directors:</b> <i>{directors}</i>
ğŸ‘«  <b>Actors:</b> <i>{actors:[1:5]}</i>
ğŸ•“  <b>Movie length:</b> <i>{duration} minutes</i>
ğŸ­  <b>Genres:</b> <i>{genres}</i>
ğŸ”—  <b>Link to TMDb:</b> <a href="{themoviedb_url}">{themoviedb_url}</a>
ğŸ”—  <b>Link to Plex library:</b> <a href="{plex_url}">{library_name}</a>
âš™ï¸  <b>Video resolution:</b><i>{video_width}x{video_height} - {video_resolution}p  ({file_size})</i>

<b>Synopsis:</b>
<b>â˜… {rating} | </b><i>{summary}</i>
<a href="{poster_url}"></a>
```

åœ¨Telegramé‡Œçš„æ•ˆæœå°±æ˜¯ï¼š

<figure markdown>

![](./assets/WX20240819-234403@2x.png){width=400}

</figure>

## Linuxç³»ç»Ÿç½‘ç»œä»£ç†

ä¸Šé¢çš„Tautulliæ–¹æ¡ˆè™½ç„¶å¥½ï¼Œä½†æœ‰ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜ï¼šTelegramçš„apiåœ¨å›½å†…ä¸å¯è®¿é—®ã€‚è€Œå¦‚æœä½¿ç”¨Publierå°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜äº†ï¼Œä»–ä»¬çš„webhook apiåœ¨å›½å†…æ˜¯å¯ä»¥è®¿é—®çš„ã€‚

å¥½åœ¨å¤§å®¶éƒ½ä¼šä¸€ç‚¹é­”æ³•ã€‚
### Qv2ray
è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡åœ¨Linuxä¸Šéƒ¨ç½²ç½‘ç»œä»£ç†ã€‚æˆ‘æœ¬ä»¥ä¸ºå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥ä¹‹å‰æ¯æ¬¡éœ€è¦ç”¨åˆ°å°±ä½¿ç”¨å±€åŸŸç½‘çš„å…¶ä»–ç”µè„‘å¼€ä¸€ä¸‹ä»£ç†æœåŠ¡å™¨ã€‚

ä¸è¿‡è¿™æ¬¡æ˜¯è¦åšè‡ªåŠ¨åŒ–æ–¹æ¡ˆï¼Œå¾—ç¡®ä¿ä¸€ç›´æœ‰ä»£ç†å¯ç”¨ï¼Œäºæ˜¯æœ€ç»ˆé€‰æ‹©çš„æ–¹æ¡ˆæ˜¯Qv2ray GUI + V2ray core Backendã€‚

Ubuntu 20+çš„è¯å¯ä»¥ç›´æ¥ä½¿ç”¨snapä¸‹è½½Qvray GUIï¼š
```bash
sudo snap install qv2ray
```

V2ray coreéœ€è¦ä»Githubä¸‹è½½ï¼š

<figure markdown>
[![v2fly/v2ray-core - GitHub](https://gh-card.dev/repos/v2fly/v2ray-core.svg?fullname=)](https://github.com/v2fly/v2ray-core)
</figure>

ä¸‹è½½Linux-86çš„é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç„¶åè§£å‹åˆ°Qv2rayæŒ‡å®šçš„ä½ç½®å³å¯ã€‚

### Dockerå®¹å™¨å†…ä½¿ç”¨ä»£ç†
Qv2rayä»£ç†å¯åŠ¨ä¹‹åï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æ”¹å˜ä»£ç†æœåŠ¡å™¨ç›‘å¬çš„åœ°å€ã€‚é»˜è®¤æƒ…å†µä¸‹æ˜¯`127.0.0.1`ï¼Œè¿™æ˜¯æœ¬åœ°å›ç¯åœ°å€ï¼ŒDockerå®¹å™¨æ˜¯è®¿é—®ä¸åˆ°çš„ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸»æœºçš„Dockerè™šæ‹Ÿç½‘åœ°å€ï¼š`172.x.x.x`ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸»æœºçš„å±€åŸŸç½‘åœ°å€ï¼š`192.x.x.x`ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å®¹å™¨éƒ½å¯ä»¥è®¿é—®ã€‚

è®¾ç½®å¥½åï¼Œåªéœ€è¦åœ¨å®¹å™¨çš„æ„å»ºé€‰é¡¹ä¸­åŠ ä¸Š**ç¯å¢ƒå˜é‡**å³å¯ï¼š
```
docker build -e http_proxy=192.168.1.99:8001 https_proxy=192.168.1.99:8001 ...
```

è®¾ç½®å®Œä¹‹åå¯ä»¥è¯•ä¸€ä¸‹Googleçš„è¿é€šæ€§ï¼š
```bash
curl google.com
```

ç¥å„ä½ç©çš„å¼€å¿ƒ~