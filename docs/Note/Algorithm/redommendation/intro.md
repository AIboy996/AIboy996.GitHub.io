---
tags:
- Alg
- Papers
- 推荐
---

# 推荐系统简介

## 基本概念

小红书的转化流程：

![IMAGE_1742307834672](assets/IMAGE_1742307834672.png)

### 短期指标

![IMAGE_1742307967773](assets/IMAGE_1742307967773.png)

- 点击率：点击次数 / 曝光次数
    - 不能唯点击率，不然骗点击就会泛滥
- 点赞率
- 收藏率
- 转发率
- 阅读完成率？

这些只是短期消费指标。盲目追求可能涸泽而渔。需要增加一定的多样性。

### 北极星指标

- 用户规模：DAU、MAU
- 消费：使用推荐的**时长**、人均**阅读数量**
- 发布

北极星指标 >> 短期指标，发生冲突前者优先。

> 冷启动？

### 推荐算法的实验流程

![IMAGE_1742308260607](assets/IMAGE_1742308260607.png)

## 推荐系统的链路

![IMAGE_1742308305925](assets/IMAGE_1742308305925.png)

- 召回：从物品数据库中取出物品
- 粗排：小规模机器学习模型，打分
- 精排：深度神经网络，精细打分
- 重排：打散、重新排序

![IMAGE_1742308903623](assets/IMAGE_1742308903623.png)

### 召回

![IMAGE_1742308495200](assets/IMAGE_1742308495200.png)

### 排序

![IMAGE_1742308558603](assets/IMAGE_1742308558603.png)

![IMAGE_1742308648516](assets/IMAGE_1742308648516.png)

### 重排：增加多样性

![IMAGE_1742308581329](assets/IMAGE_1742308581329.png)

- 多样性抽样：MMR、DPP
- 用规则打散相似的笔记。
- 插入广告、推广、根据**生态要求**调整排序（不能很多美女？）

## 推荐系统的AB测试

- 先做离线测试
- 再做小流量AB测试。还可以进行模型**参数的选择**。
- 再增加流量
- 最后全流量（**推全**）

![IMAGE_1742309919112](assets/IMAGE_1742309919112.png)

把用户随机分组，开展对照试验：

![IMAGE_1742309038986](assets/IMAGE_1742309038986.png)

### 分层实验

![IMAGE_1742309134749](assets/IMAGE_1742309134749.png)

![IMAGE_1742309199808](assets/IMAGE_1742309199808.png)
为了最大化利用流量，需要分层实验，不同层**正交**、同层**互斥**：

![IMAGE_1742309320648](assets/IMAGE_1742309320648.png)

![IMAGE_1742309448875](assets/IMAGE_1742309448875.png)

### Holdout机制

![IMAGE_1742309519876](assets/IMAGE_1742309519876.png)

![IMAGE_1742309558613](assets/IMAGE_1742309558613.png)

### 推全和反转

![IMAGE_1742309672229](assets/IMAGE_1742309672229.png)

![IMAGE_1742309811155](assets/IMAGE_1742309811155.png)

![IMAGE_1742309838053](assets/IMAGE_1742309838053.png)
